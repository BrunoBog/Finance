(this["webpackJsonpfinance-front"]=this["webpackJsonpfinance-front"]||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/cifrao.1a271b19.svg"},30:function(e,t,a){},36:function(e,t,a){e.exports=a.p+"static/media/cash-payment-bag-1.71e76e56.svg"},41:function(e,t,a){e.exports=a(67)},46:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),s=a.n(o),c=(a(46),a(9)),i=a(1),l=a(4),u=Object(n.createContext)({token:null,url:"https://finance.josafat.duckdns.org",setToken:function(){}}),m=a(20),p=a.n(m),d={};try{if(!window.localStorage)throw Error("no local storage");d.set=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},d.get=function(e){var t=localStorage.getItem(e);try{return JSON.parse(t)}catch(a){return null}},d.remove=function(e){return localStorage.removeItem(e)}}catch(re){d.set=p.a.set,d.get=p.a.getJSON,d.remove=p.a.remove}var g=d;var f=function(e){var t=e.children,a=function(e){var t=Object(n.useState)((function(){return g.get(e)})),a=Object(l.a)(t,2),r=a[0],o=a[1];return[r,Object(n.useCallback)((function(t){g.set(e,t),o(t)}),[e]),Object(n.useCallback)((function(){g.remove(e),o(void 0)}),[e])]}("token"),o=Object(l.a)(a,2),s=o[0],c=o[1];return r.a.createElement(u.Provider,{value:{token:s,setToken:c}},t)},h=a(19),v=function(e){var t=e.component,a=Object(h.a)(e,["component"]),o=Object(n.useContext)(u).token;return r.a.createElement(i.b,Object.assign({},a,{render:function(){return o?r.a.createElement(t,a):r.a.createElement(i.a,{to:"/login"})}}))},b=a(2),E=a.n(b),O=a(7),j=a(10),N=a(5),k=a(32),w=a.n(k),y=a(33),S=a.n(y),x={prefix:"",suffix:"",includeThousandsSeparator:!0,thousandsSeparatorSymbol:",",allowDecimal:!0,decimalSymbol:".",decimalLimit:2,integerLimit:7,allowNegative:!1,allowLeadingZeroes:!1},C=function(e){var t=e.maskOptions,a=Object(h.a)(e,["maskOptions"]),n=S()(Object(N.a)({},x,{},t));return r.a.createElement(w.a,Object.assign({mask:n},a))},L=a(34),T=a.n(L),F=function(e){var t=e.type,a=e.color,n=["balls","bars","bubbles","cubes","cylon","spin","spinningBubbles","spokes"],o=null!==t&&void 0!==t?t:n[Math.floor(Math.random()*n.length)];return r.a.createElement(T.a,{type:o,color:null!==a&&void 0!==a?a:"#6EF9F5"})},M=a(35),P=a.n(M),R=(a(61),a(13)),A=(a(29),{url:"http://localhost:8080",baseUrl:"https://finance.josafat.duckdns.org"});a(62);function U(){return{name:"",description:"",date:new Date,moneyValue:"",categoryId:"",messageWrong:"",isLoading:!1}}var B=function(){var e=Object(n.useContext)(u).token,t=Object(n.useState)(U),a=Object(l.a)(t,2),o=a[0],s=a[1],c=Object(i.g)(),m=Object(n.useContext)(u).setToken;function p(e){return e=e.replace(",","."),e=parseFloat(e)}function d(e){var t=e.target,a=t.value,n=t.name;s(Object(N.a)({},o,Object(j.a)({},n,a)))}function g(e){return f.apply(this,arguments)}function f(){return(f=Object(O.a)(E.a.mark((function t(a){var n,r,o,s,i,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.name,r=a.description,o=a.moneyValue,s=a.date,i=p(o),t.next=4,fetch("".concat(A.baseUrl,"/v1/Spends"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({name:n,description:r,value:i,date:s})});case 4:if(401===(l=t.sent).status&&(m({token:"",isLoading:!1}),c.push("/login")),l.ok){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return(v=Object(O.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s({isLoading:!0}),e.next=4,g(o);case 4:if(e.sent){e.next=7;break}return s({errorMessage:"Fail to add Spend",isLoading:!1}),e.abrupt("return");case 7:b("Saved!"),s(U),s({isLoading:!1});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){R.b.success("\ud83e\udd84 ".concat(e),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}return r.a.createElement("div",{className:"addSpends"},r.a.createElement("header",null,r.a.createElement("span",null,"New spend"),r.a.createElement(R.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})),r.a.createElement("main",null,r.a.createElement("form",{className:"addSpend",autoComplete:"nope",onSubmit:h},r.a.createElement("div",{className:"form-group"},r.a.createElement(P.a,{onDayChange:function(e){var t=Date.parse(e);s(t?Object(N.a)({},o,{date:e,messageWrong:""}):Object(N.a)({},o,{date:e,messageWrong:"Invalid Date"}))},name:"date",id:"date",value:o.date})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"texx",name:"name",id:"name",placeholder:"Name",onChange:d,value:o.name})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"description",id:"description",placeholder:"Description",onChange:d,value:o.description})),r.a.createElement("div",{className:"form-group"},r.a.createElement(C,{placeholder:"R$ 0.00",type:"text",onChange:d,name:"moneyValue",id:"moneyValue",value:o.moneyValue})),r.a.createElement("span",{className:"ErrorMesssage"},o.messageWrong),r.a.createElement("footer",{className:"footer"},o.isLoading?r.a.createElement(F,null):r.a.createElement("button",{className:"btn-inside",type:"submit",id:"submit",onSubmit:h},"Send")))))},D=a(36),W=a.n(D),J=(a(63),function(e){var t=Object(n.useState)(e),a=Object(l.a)(t,1)[0];return r.a.createElement("div",{className:"weekdata"},r.a.createElement("div",{className:"spendImg"},r.a.createElement("img",{src:W.a,alt:"cifr\xe3o"})),r.a.createElement("div",{className:"spend"},r.a.createElement("div",{className:"titleSpend"},"Week: ",a.weekNumber),r.a.createElement("div",{className:"value"},a.total)))});a(64);function I(){return{weeks:[],monthTotal:0,messageWrong:"",loading:!0}}var H=function(){var e=Object(n.useContext)(u).token,t=Object(n.useState)(I),a=Object(l.a)(t,2),o=a[0],s=a[1],c=Object(n.useContext)(u).setToken,m=Object(i.g)();function p(){return d.apply(this,arguments)}function d(){return(d=Object(O.a)(E.a.mark((function t(){var a,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(A.baseUrl,"/v1/Spends/weeksummary"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});case 2:if(401===(a=t.sent).status&&(c({token:""}),m.push("/login")),a.ok){t.next=8;break}return s(Object(N.a)({},o,{messageWrong:a.text,loading:!0})),g("falha ao buscar os dados"),t.abrupt("return");case 8:return t.next=10,a.json();case 10:n=t.sent,s(Object(N.a)({},o,{weeks:n.summary,monthTotal:n.monthTotal,loading:!1}));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(e){R.b.success("\ud83e\ude79 ".concat(e),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}return Object(n.useEffect)((function(){(function(){var e=Object(O.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()})),r.a.createElement("div",{className:"weekPanel"},r.a.createElement("header",null,r.a.createElement("span",{className:"title"},"Month spends"),r.a.createElement(R.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})),r.a.createElement("main",{className:"container"},o.loading?r.a.createElement(F,{color:"#6EF9F5"}):o.weeks.map((function(e){return r.a.createElement(J,{total:e.total,weekNumber:e.weekNumber})}))))},V=(a(65),function(){var e=Object(n.useContext)(u).setToken,t=Object(i.g)();return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"pages-home"},r.a.createElement("div",{className:"home-container"},r.a.createElement("header",{className:"header-home"},"Olha  que cabe\xe7alho bunito",r.a.createElement("div",{className:"logout"},r.a.createElement("span",{htmlFor:""},"Sair do Bufunfas $$ "),r.a.createElement("button",{type:"button",onClick:function(){e({token:""}),t.push("/login")}},"Sair"))),r.a.createElement("div",{className:"hero"},r.a.createElement("span",null,"Chegou na Home em danado ? ")),r.a.createElement("main",{className:"main-content"},r.a.createElement("div",{className:"right-content"},r.a.createElement("article",{className:"newEntry"},r.a.createElement(B,null))),r.a.createElement("div",{className:"content"},r.a.createElement("article",{className:"summary"},r.a.createElement(H,null)),r.a.createElement("article",{className:"summary"},"aqui a soma do gasto no m\xeas"))),r.a.createElement("footer",null))))}),$=a(37),q=a(38),z=a(39),G=a(40),Z=(a(66),a(18)),K=a.n(Z);a(30);function Q(){return{user:"",password:"",errorMessage:"",loading:!1}}var X=function(){var e=Object(n.useState)(Q),t=Object(l.a)(e,2),a=t[0],o=t[1],s=Object(n.useContext)(u).setToken,c=Object(i.g)();function m(e){var t=e.target,n=t.value,r=t.name;o(Object(N.a)({},a,Object(j.a)({},r,n)))}function p(){return r.a.createElement("article",{className:"errorMessage"},r.a.createElement("label",null,a.errorMessage))}function d(e){return g.apply(this,arguments)}function g(){return(g=Object(O.a)(E.a.mark((function e(t){var a,n,r,i,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user,n=t.password,e.next=3,fetch("".concat(A.baseUrl,"/v1/User/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({Email:a,Password:n})});case 3:return(r=e.sent).ok||(o(Q),o({errorMessage:"Login Fail",loading:!1})),e.next=7,r.json();case 7:i=e.sent,(l=i.token)&&(s(l),o({loading:!1}),c.push("/"));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=Object(O.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o({loading:!0}),t.preventDefault(),d(a);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"base-container"},r.a.createElement("header",null,r.a.createElement("div",{className:"header"},"Login")),r.a.createElement("form",{autoComplete:"nope",onSubmit:f},r.a.createElement("div",{className:"content"},":",r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:K.a,alt:"cifr\xe3o"})),r.a.createElement(p,null),r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"}," Username"),r.a.createElement("input",{type:"text",name:"user",id:"user",placeholder:"Username",onChange:m,value:a.user})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"}," Password "),r.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Password",onChange:m,value:a.password}))),a.loading?r.a.createElement(F,{color:"#6EF9F5"}):r.a.createElement("footer",{className:"footer"},r.a.createElement("button",{className:"btn",type:"submit",onSubmit:f,disabled:a.loading},"Login")))))};function Y(){return{user:"",password:"",email:"",errorMessage:"",loading:!1}}var _=function(){var e=Object(n.useState)(Y),t=Object(l.a)(e,2),a=t[0],o=t[1],s=Object(n.useContext)(u).setToken,c=Object(i.g)();function m(e){var t=e.target,n=t.value,r=t.name;o(Object(N.a)({},a,Object(j.a)({},r,n)))}function p(e){return d.apply(this,arguments)}function d(){return(d=Object(O.a)(E.a.mark((function e(t){var a,n,r,i,l,u,m;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user,n=t.password,r=t.email,e.next=3,fetch("".concat(A.baseUrl,"/v1/User/signUp"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({Email:r,Password:n,UserName:a})});case 3:return 409===(i=e.sent).status&&o({errorMessage:"Email already Exists",loading:!1}),i.ok||(o(Y),o({errorMessage:"Register Fail",loading:!1})),e.next=8,i.json();case 8:return l=e.sent,(u=l.token)&&(s(u),o({loading:!1}),c.push("/")),e.next=13,i.json();case 13:return m=e.sent,e.abrupt("return",m);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return f.apply(this,arguments)}function f(){return(f=Object(O.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),p(a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return r.a.createElement("article",{className:"errorMessage"},r.a.createElement("label",null,a.errorMessage))}return r.a.createElement("div",{className:"base-container"},r.a.createElement("header",{className:"header"},"Register"),r.a.createElement("form",{autoComplete:"nope",onSubmit:g},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:K.a,alt:"cifr\xe3o"})),r.a.createElement(h,null),r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"}," Username"),r.a.createElement("input",{type:"text",name:"user",id:"user",placeholder:"Username",onChange:m,value:a.user})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"}," Email"),r.a.createElement("input",{type:"text",name:"email",id:"email",placeholder:"Email",onChange:m,value:a.email})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"}," Password "),r.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Password",onChange:m,value:a.password})))),a.loading?r.a.createElement(F,{color:"#6EF9F5"}):r.a.createElement("footer",{className:"footer"},r.a.createElement("button",{className:"btn",type:"submit",onSubmit:g},"Register"))))},ee=function(e){Object(G.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object($.a)(this,a),(n=t.call(this,e)).state={isLogginActive:!0},n}return Object(q.a)(a,[{key:"changeState",value:function(){this.state.isLogginActive?(this.RightSide.classList.remove("right"),this.RightSide.classList.add("left")):(this.RightSide.classList.remove("left"),this.RightSide.classList.add("right")),this.setState((function(e){return{isLogginActive:!e.isLogginActive}}))}},{key:"render",value:function(){var e=this,t=this.state.isLogginActive,a=t?"Register":"Login",n=t?"Login":"Register";return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"container",ref:function(t){return e.container=t}},t&&r.a.createElement(X,{containerRef:function(t){return e.current=t}}),!t&&r.a.createElement(_,{containerRef:function(t){return e.current=t}})),r.a.createElement(te,{current:a,currentActive:n,containerRef:function(t){return e.RightSide=t},onClick:this.changeState.bind(this)})))}}]),a}(r.a.Component),te=function(e){return r.a.createElement("div",{className:"right-side right",ref:e.containerRef,onClick:e.onClick},r.a.createElement("div",{className:"inner-container"},r.a.createElement("div",{className:"text"},e.current)))},ae=ee,ne=function(){return r.a.createElement(c.a,null,r.a.createElement(f,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/login",component:ae}),r.a.createElement(v,{path:"/",component:V}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.08dd1976.chunk.js.map